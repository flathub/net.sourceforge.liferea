From 309bfda20d0ed9e0753e4d17804aa2b8be1705ab Mon Sep 17 00:00:00 2001
From: Mikel Olasagasti Uranga <mikel@olasagasti.info>
Date: Wed, 22 Mar 2023 22:22:42 +0100
Subject: [PATCH] Revert ed860fa to avoid crashes since 1.14.1

Should fix crashes reported in
https://github.com/lwindolf/liferea/issues/1214
---
 src/ui/liferea_shell.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/ui/liferea_shell.c b/src/ui/liferea_shell.c
index 1c6cb00b..7acf9989 100644
--- a/src/ui/liferea_shell.c
+++ b/src/ui/liferea_shell.c
@@ -1387,6 +1387,7 @@ liferea_shell_create (GtkApplication *app, const gchar *overrideWindowState, gin
 	liferea_shell_update_toolbar ();
 	liferea_shell_update_history_actions ();
 	liferea_shell_setup_URL_receiver ();
+	liferea_shell_restore_state (overrideWindowState);
 
 	gtk_widget_set_sensitive (GTK_WIDGET (shell->feedlistViewWidget), TRUE);
 
@@ -1406,7 +1407,6 @@ liferea_shell_create (GtkApplication *app, const gchar *overrideWindowState, gin
 	                  G_CALLBACK (liferea_shell_update_node_actions), NULL);
 
 	/* 11.) Restore latest layout and selection */
-	liferea_shell_restore_state (overrideWindowState);
 	conf_get_int_value (DEFAULT_VIEW_MODE, &mode);
 	itemview_set_layout (mode);
 
-- 
2.39.2

